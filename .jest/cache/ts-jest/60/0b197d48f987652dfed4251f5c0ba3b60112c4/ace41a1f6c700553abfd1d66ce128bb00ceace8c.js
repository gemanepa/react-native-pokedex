"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = require("react");
const react_native_1 = require("react-native");
const react_native_chart_kit_1 = require("react-native-chart-kit");
const helpers_1 = require("../../helpers");
const styles_1 = require("./styles");
/* eslint-enable no-unused-vars */
const statColours = {
    hp: (opacity = 1) => `rgba(99, 187, 91, ${opacity})`,
    attack: (opacity = 1) => `rgba(206, 64, 105, ${opacity})`,
    defense: (opacity = 1) => `rgba(243, 210, 59, ${opacity})`,
    'sp. atk': (opacity = 1) => `rgba(171, 106, 200, ${opacity})`,
    'sp. def': (opacity = 1) => `rgba(236, 143, 230, ${opacity})`,
    speed: (opacity = 1) => `rgba(116, 206, 192, ${opacity})`
};
function renderTypes(pokemon) {
    return pokemon.types.map(type => {
        const { PRIMARY, SECONDARY } = helpers_1.getPokemonTypeByName(type);
        return (<react_native_1.Text key={`${pokemon.name}_${type}`} style={[styles_1.styles.typeText, { color: SECONDARY, backgroundColor: PRIMARY }]}>
        {type}
      </react_native_1.Text>);
    });
}
function renderStats(pokemon) {
    const stats = Object.keys(pokemon.baseStats);
    return (<react_native_1.View style={styles_1.styles.infoContainer}>
      <react_native_1.Text style={styles_1.styles.infoTitle}>Stats</react_native_1.Text>
      <react_native_1.View style={styles_1.styles.chartsContainer}>
        {stats.map(stat => {
        const value = pokemon.baseStats[stat];
        return (<react_native_1.View key={`chart_${stat}`}>
                <react_native_chart_kit_1.ProgressChart key={stat} data={{
            labels: [stat],
            data: [value / 255]
        }} width={100} height={100} hideLegend chartConfig={{
            color: (opacity = 1) => statColours[stat](opacity),
            labelColor: (opacity = 1) => statColours[stat](opacity),
            backgroundColor: 'white',
            backgroundGradientFrom: 'white',
            backgroundGradientTo: 'white',
            strokeWidth: 0.3
        }} style={{
            marginLeft: 20
        }}/>
                <react_native_1.Text style={[styles_1.styles.infoText, { textAlign: 'center' }]}>{stat} ({value})</react_native_1.Text>
              </react_native_1.View>);
    })}
      </react_native_1.View>
    </react_native_1.View>);
}
function renderAbilities(pokemon) {
    const { abilities, types } = pokemon;
    const normalAbilities = abilities.filter(ability => !ability.isHidden);
    const hiddenAbilities = abilities.filter(ability => ability.isHidden);
    const colour = helpers_1.getPokemonTypeByName(types[0]).PRIMARY;
    const normalAbilityComponents = normalAbilities.map(ability => {
        const { name, description } = ability;
        return [
            <react_native_1.Text style={[styles_1.styles.infoText, { color: colour }]} key={name}>
        {name}
      </react_native_1.Text>,
            <react_native_1.Text style={[styles_1.styles.infoDescription]} key={`${name}_desc`}>
        {description}
      </react_native_1.Text>
        ];
    });
    const hiddenAbilityComponents = hiddenAbilities.map(ability => {
        const { name, description } = ability;
        return [
            <react_native_1.Text style={[styles_1.styles.infoText, { color: colour }]} key={name}>
        {name} - Hidden Ability
      </react_native_1.Text>,
            <react_native_1.Text style={[styles_1.styles.infoDescription]} key={`${name}_desc`}>
        {description}
      </react_native_1.Text>
        ];
    });
    return (<react_native_1.View style={styles_1.styles.infoContainer}>
      <react_native_1.Text style={styles_1.styles.infoTitle}>Abilities</react_native_1.Text>
      <react_native_1.View>
        {normalAbilityComponents}
        {hiddenAbilityComponents}
      </react_native_1.View>
    </react_native_1.View>);
}
function renderBasicInfo(pokemon) {
    const colour = helpers_1.getPokemonTypeByName(pokemon.types[0]).PRIMARY;
    return (<react_native_1.View style={styles_1.styles.infoContainer}>
      <react_native_1.Text style={styles_1.styles.infoTitle}>About {pokemon.name}</react_native_1.Text>
      <react_native_1.View>
        <react_native_1.Text style={[styles_1.styles.infoText, { color: colour }]}>
          Galar Dex
        </react_native_1.Text>
        <react_native_1.Text style={[styles_1.styles.infoDescription]}>
          #{pokemon.localNumber}
        </react_native_1.Text>
      </react_native_1.View>
      <react_native_1.View>
        <react_native_1.Text style={[styles_1.styles.infoText, { color: colour }]}>
          National Dex
        </react_native_1.Text>
        <react_native_1.Text style={[styles_1.styles.infoDescription]}>
          #{pokemon.number}
        </react_native_1.Text>
      </react_native_1.View>
      <react_native_1.View>
        <react_native_1.Text style={[styles_1.styles.infoText, { color: colour }]}>
          Species
        </react_native_1.Text>
        <react_native_1.Text style={[styles_1.styles.infoDescription]}>
          {pokemon.species}
        </react_native_1.Text>
      </react_native_1.View>
      <react_native_1.View>
        <react_native_1.Text style={[styles_1.styles.infoText, { color: colour }]}>
          Height
        </react_native_1.Text>
        <react_native_1.Text style={[styles_1.styles.infoDescription]}>
          {pokemon.height}
        </react_native_1.Text>
      </react_native_1.View>
      <react_native_1.View>
        <react_native_1.Text style={[styles_1.styles.infoText, { color: colour }]}>
          Weight
        </react_native_1.Text>
        <react_native_1.Text style={[styles_1.styles.infoDescription]}>
          {pokemon.weight}
        </react_native_1.Text>
      </react_native_1.View>
      <react_native_1.View>
        <react_native_1.Text style={[styles_1.styles.infoText, { color: colour }]}>
          Growth Rate
        </react_native_1.Text>
        <react_native_1.Text style={[styles_1.styles.infoDescription]}>
          {pokemon.growthRate}
        </react_native_1.Text>
      </react_native_1.View>
      <react_native_1.View>
        <react_native_1.Text style={[styles_1.styles.infoText, { color: colour }]}>
          Egg Cycles
        </react_native_1.Text>
        <react_native_1.Text style={[styles_1.styles.infoDescription]}>
          {pokemon.eggCycles}
        </react_native_1.Text>
      </react_native_1.View>
      <react_native_1.View>
        <react_native_1.Text style={[styles_1.styles.infoText, { color: colour }]}>
          Egg Groups
        </react_native_1.Text>
        <react_native_1.Text style={[styles_1.styles.infoDescription]}>
          {pokemon.eggGroups.join(', ')}
        </react_native_1.Text>
      </react_native_1.View>
    </react_native_1.View>);
}
function renderPokedexEntries(pokemon) {
    const colour = helpers_1.getPokemonTypeByName(pokemon.types[0]).PRIMARY;
    return (<react_native_1.View style={styles_1.styles.infoContainer}>
      <react_native_1.Text style={styles_1.styles.infoTitle}>#{pokemon.localNumber}</react_native_1.Text>
      <react_native_1.View>
        <react_native_1.Text style={[styles_1.styles.infoText, { color: colour }]}>
          Sword
        </react_native_1.Text>
        <react_native_1.Text style={[styles_1.styles.infoDescription]}>
          {pokemon.pokedexEntries.sword}
        </react_native_1.Text>
      </react_native_1.View>
      <react_native_1.View>
        <react_native_1.Text style={[styles_1.styles.infoText, { color: colour }]}>
          Shield
        </react_native_1.Text>
        <react_native_1.Text style={[styles_1.styles.infoDescription]}>
          {pokemon.pokedexEntries.shield}
        </react_native_1.Text>
      </react_native_1.View>
    </react_native_1.View>);
}
function DetailsScreen(props) {
    const { route } = props;
    const { pokemon } = route.params;
    const { width } = react_native_1.Dimensions.get('window');
    const uri = pokemon.sprites.artwork;
    return (<react_native_1.ScrollView testID={`${pokemon.name.toLowerCase()}-details`} style={styles_1.styles.container}>
      <react_native_1.View style={styles_1.styles.imageContainer}>
        <react_native_1.Image resizeMethod='scale' resizeMode='contain' style={[styles_1.styles.mainImage, { width, height: 250 }]} source={{ uri }}/>
      </react_native_1.View>
      {renderTypes(pokemon)}
      {renderPokedexEntries(pokemon)}
      {renderStats(pokemon)}
      {renderAbilities(pokemon)}
      {renderBasicInfo(pokemon)}
    </react_native_1.ScrollView>);
}
exports.default = DetailsScreen;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3NhbXVlbGJhcmtlci9jb2RlL3BlcnNvbmFsL3JlYWN0LW5hdGl2ZS1wbGF5Z3JvdW5kL3BsYXlncm91bmQvc3JjL3NjcmVlbnMvZGV0YWlscy9pbmRleC50c3giLCJzb3VyY2VzIjpbIi9Vc2Vycy9zYW11ZWxiYXJrZXIvY29kZS9wZXJzb25hbC9yZWFjdC1uYXRpdmUtcGxheWdyb3VuZC9wbGF5Z3JvdW5kL3NyYy9zY3JlZW5zL2RldGFpbHMvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsaUNBQTBCO0FBQzFCLCtDQUF5RTtBQUN6RSxtRUFBdUQ7QUFDdkQsMkNBQXFEO0FBQ3JELHFDQUFrQztBQUtsQyxrQ0FBa0M7QUFFbEMsTUFBTSxXQUFXLEdBQUc7SUFDbEIsRUFBRSxFQUFFLENBQUMsT0FBTyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMscUJBQXFCLE9BQU8sR0FBRztJQUNwRCxNQUFNLEVBQUUsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxzQkFBc0IsT0FBTyxHQUFHO0lBQ3pELE9BQU8sRUFBRSxDQUFDLE9BQU8sR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLHNCQUFzQixPQUFPLEdBQUc7SUFDMUQsU0FBUyxFQUFFLENBQUMsT0FBTyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsdUJBQXVCLE9BQU8sR0FBRztJQUM3RCxTQUFTLEVBQUUsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyx1QkFBdUIsT0FBTyxHQUFHO0lBQzdELEtBQUssRUFBRSxDQUFDLE9BQU8sR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLHVCQUF1QixPQUFPLEdBQUc7Q0FDMUQsQ0FBQztBQUVGLFNBQVMsV0FBVyxDQUFFLE9BQU87SUFDM0IsT0FBTyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUM5QixNQUFNLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxHQUFHLDhC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TSxDQUFDLGNBQWMsQ0FBQyxDQUNqQztRQUFBLENBQUMsb0JBQUssQ0FDSixZQUFZLENBQUMsT0FBTyxDQUNwQixVQUFVLENBQUMsU0FBUyxDQUNwQixLQUFLLENBQUMsQ0FBQyxDQUFDLGVBQU0sQ0FBQyxTQUFTLEVBQUUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FDbEQsTUFBTSxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUVwQjtNQUFBLEVBQUUsbUJBQUksQ0FDTjtNQUFBLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUNyQjtNQUFBLENBQUMsb0JBQW9CLENBQUMsT0FBTyxDQUFDLENBQzlCO01BQUEsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQ3JCO01BQUEsQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQ3pCO01BQUEsQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQzNCO0lBQUEsRUFBRSx5QkFBVSxDQUFDLENBQ2QsQ0FBQztBQUNKLENBQUM7QUFFRCxrQkFBZSxhQUFhLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRGltZW5zaW9ucywgSW1hZ2UsIFRleHQsIFZpZXcsIFNjcm9sbFZpZXcgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHsgUHJvZ3Jlc3NDaGFydCB9IGZyb20gJ3JlYWN0LW5hdGl2ZS1jaGFydC1raXQnO1xuaW1wb3J0IHsgZ2V0UG9rZW1vblR5cGVCeU5hbWUgfSBmcm9tICcuLi8uLi9oZWxwZXJzJztcbmltcG9ydCB7IHN0eWxlcyB9IGZyb20gJy4vc3R5bGVzJztcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7IFBva2Vtb24gfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBQcm9wcyB9IGZyb20gJy4vY29tcG9uZW50VHlwZXMnO1xuLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtdmFycyAqL1xuXG5jb25zdCBzdGF0Q29sb3VycyA9IHtcbiAgaHA6IChvcGFjaXR5ID0gMSkgPT4gYHJnYmEoOTksIDE4NywgOTEsICR7b3BhY2l0eX0pYCxcbiAgYXR0YWNrOiAob3BhY2l0eSA9IDEpID0+IGByZ2JhKDIwNiwgNjQsIDEwNSwgJHtvcGFjaXR5fSlgLFxuICBkZWZlbnNlOiAob3BhY2l0eSA9IDEpID0+IGByZ2JhKDI0MywgMjEwLCA1OSwgJHtvcGFjaXR5fSlgLFxuICAnc3AuIGF0ayc6IChvcGFjaXR5ID0gMSkgPT4gYHJnYmEoMTcxLCAxMDYsIDIwMCwgJHtvcGFjaXR5fSlgLFxuICAnc3AuIGRlZic6IChvcGFjaXR5ID0gMSkgPT4gYHJnYmEoMjM2LCAxNDMsIDIzMCwgJHtvcGFjaXR5fSlgLFxuICBzcGVlZDogKG9wYWNpdHkgPSAxKSA9PiBgcmdiYSgxMTYsIDIwNiwgMTkyLCAke29wYWNpdHl9KWBcbn07XG5cbmZ1bmN0aW9uIHJlbmRlclR5cGVzIChwb2tlbW9uKSB7XG4gIHJldHVybiBwb2tlbW9uLnR5cGVzLm1hcCh0eXBlID0+IHtcbiAgICBjb25zdCB7IFBSSU1BUlksIFNFQ09OREFSWSB9ID0gZ2V0UG9rZW1vblR5cGVCeU5hbWUodHlwZSk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUZXh0XG4gICAgICAgIGtleT17YCR7cG9rZW1vbi5uYW1lfV8ke3R5cGV9YH1cbiAgICAgICAgc3R5bGU9e1tzdHlsZXMudHlwZVRleHQsIHsgY29sb3I6IFNFQ09OREFSWSwgYmFja2dyb3VuZENvbG9yOiBQUklNQVJZIH1dfVxuICAgICAgPlxuICAgICAgICB7dHlwZX1cbiAgICAgIDwvVGV4dD5cbiAgICApO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyU3RhdHMgKHBva2Vtb24pIHtcbiAgY29uc3Qgc3RhdHMgPSBPYmplY3Qua2V5cyhwb2tlbW9uLmJhc2VTdGF0cyk7XG5cbiAgcmV0dXJuIChcbiAgICA8VmlldyBzdHlsZT17c3R5bGVzLmluZm9Db250YWluZXJ9PlxuICAgICAgPFRleHQgc3R5bGU9e3N0eWxlcy5pbmZvVGl0bGV9PlN0YXRzPC9UZXh0PlxuICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5jaGFydHNDb250YWluZXJ9PlxuICAgICAgICB7XG4gICAgICAgICAgc3RhdHMubWFwKHN0YXQgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwb2tlbW9uLmJhc2VTdGF0c1tzdGF0XTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxWaWV3IGtleT17YGNoYXJ0XyR7c3RhdH1gfT5cbiAgICAgICAgICAgICAgICA8UHJvZ3Jlc3NDaGFydFxuICAgICAgICAgICAgICAgICAga2V5PXtzdGF0fVxuICAgICAgICAgICAgICAgICAgZGF0YT17e1xuICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IFtzdGF0XSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogW3ZhbHVlIC8gMjU1XVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIHdpZHRoPXsxMDB9XG4gICAgICAgICAgICAgICAgICBoZWlnaHQ9ezEwMH1cbiAgICAgICAgICAgICAgICAgIGhpZGVMZWdlbmRcbiAgICAgICAgICAgICAgICAgIGNoYXJ0Q29uZmlnPXt7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAob3BhY2l0eSA9IDEpID0+IHN0YXRDb2xvdXJzW3N0YXRdKG9wYWNpdHkpLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbENvbG9yOiAob3BhY2l0eSA9IDEpID0+IHN0YXRDb2xvdXJzW3N0YXRdKG9wYWNpdHkpLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRHcmFkaWVudEZyb206ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRHcmFkaWVudFRvOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMC4zXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogMjBcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8VGV4dCBzdHlsZT17W3N0eWxlcy5pbmZvVGV4dCwgeyB0ZXh0QWxpZ246ICdjZW50ZXInIH1dfT57c3RhdH0gKHt2YWx1ZX0pPC9UZXh0PlxuICAgICAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIDwvVmlldz5cbiAgICA8L1ZpZXc+XG4gICk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckFiaWxpdGllcyAocG9rZW1vbikge1xuICBjb25zdCB7IGFiaWxpdGllcywgdHlwZXMgfSA9IHBva2Vtb247XG4gIGNvbnN0IG5vcm1hbEFiaWxpdGllcyA9IGFiaWxpdGllcy5maWx0ZXIoYWJpbGl0eSA9PiAhYWJpbGl0eS5pc0hpZGRlbik7XG4gIGNvbnN0IGhpZGRlbkFiaWxpdGllcyA9IGFiaWxpdGllcy5maWx0ZXIoYWJpbGl0eSA9PiBhYmlsaXR5LmlzSGlkZGVuKTtcbiAgY29uc3QgY29sb3VyID0gZ2V0UG9rZW1vblR5cGVCeU5hbWUodHlwZXNbMF0pLlBSSU1BUlk7XG4gIGNvbnN0IG5vcm1hbEFiaWxpdHlDb21wb25lbnRzID0gbm9ybWFsQWJpbGl0aWVzLm1hcChhYmlsaXR5ID0+IHtcbiAgICBjb25zdCB7IG5hbWUsIGRlc2NyaXB0aW9uIH0gPSBhYmlsaXR5O1xuICAgIHJldHVybiBbXG4gICAgICA8VGV4dCBzdHlsZT17W3N0eWxlcy5pbmZvVGV4dCwgeyBjb2xvcjogY29sb3VyIH1dfSBrZXk9e25hbWV9PlxuICAgICAgICB7bmFtZX1cbiAgICAgIDwvVGV4dD4sXG4gICAgICA8VGV4dCBzdHlsZT17W3N0eWxlcy5pbmZvRGVzY3JpcHRpb25dfSBrZXk9e2Ake25hbWV9X2Rlc2NgfT5cbiAgICAgICAge2Rlc2NyaXB0aW9ufVxuICAgICAgPC9UZXh0PlxuICAgIF07XG4gIH0pO1xuICBjb25zdCBoaWRkZW5BYmlsaXR5Q29tcG9uZW50cyA9IGhpZGRlbkFiaWxpdGllcy5tYXAoYWJpbGl0eSA9PiB7XG4gICAgY29uc3QgeyBuYW1lLCBkZXNjcmlwdGlvbiB9ID0gYWJpbGl0eTtcbiAgICByZXR1cm4gW1xuICAgICAgPFRleHQgc3R5bGU9e1tzdHlsZXMuaW5mb1RleHQsIHsgY29sb3I6IGNvbG91ciB9XX0ga2V5PXtuYW1lfT5cbiAgICAgICAge25hbWV9IC0gSGlkZGVuIEFiaWxpdHlcbiAgICAgIDwvVGV4dD4sXG4gICAgICA8VGV4dCBzdHlsZT17W3N0eWxlcy5pbmZvRGVzY3JpcHRpb25dfSBrZXk9e2Ake25hbWV9X2Rlc2NgfT5cbiAgICAgICAge2Rlc2NyaXB0aW9ufVxuICAgICAgPC9UZXh0PlxuICAgIF07XG4gIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5pbmZvQ29udGFpbmVyfT5cbiAgICAgIDxUZXh0IHN0eWxlPXtzdHlsZXMuaW5mb1RpdGxlfT5BYmlsaXRpZXM8L1RleHQ+XG4gICAgICA8Vmlldz5cbiAgICAgICAge25vcm1hbEFiaWxpdHlDb21wb25lbnRzfVxuICAgICAgICB7aGlkZGVuQWJpbGl0eUNvbXBvbmVudHN9XG4gICAgICA8L1ZpZXc+XG4gICAgPC9WaWV3PlxuICApO1xufVxuXG5mdW5jdGlvbiByZW5kZXJCYXNpY0luZm8gKHBva2Vtb246IFBva2Vtb24pIHtcbiAgY29uc3QgY29sb3VyID0gZ2V0UG9rZW1vblR5cGVCeU5hbWUocG9rZW1vbi50eXBlc1swXSkuUFJJTUFSWTtcbiAgcmV0dXJuIChcbiAgICA8VmlldyBzdHlsZT17c3R5bGVzLmluZm9Db250YWluZXJ9PlxuICAgICAgPFRleHQgc3R5bGU9e3N0eWxlcy5pbmZvVGl0bGV9PkFib3V0IHtwb2tlbW9uLm5hbWV9PC9UZXh0PlxuICAgICAgPFZpZXc+XG4gICAgICAgIDxUZXh0IHN0eWxlPXtbc3R5bGVzLmluZm9UZXh0LCB7IGNvbG9yOiBjb2xvdXIgfV19PlxuICAgICAgICAgIEdhbGFyIERleFxuICAgICAgICA8L1RleHQ+XG4gICAgICAgIDxUZXh0IHN0eWxlPXtbc3R5bGVzLmluZm9EZXNjcmlwdGlvbl19PlxuICAgICAgICAgICN7cG9rZW1vbi5sb2NhbE51bWJlcn1cbiAgICAgICAgPC9UZXh0PlxuICAgICAgPC9WaWV3PlxuICAgICAgPFZpZXc+XG4gICAgICAgIDxUZXh0IHN0eWxlPXtbc3R5bGVzLmluZm9UZXh0LCB7IGNvbG9yOiBjb2xvdXIgfV19PlxuICAgICAgICAgIE5hdGlvbmFsIERleFxuICAgICAgICA8L1RleHQ+XG4gICAgICAgIDxUZXh0IHN0eWxlPXtbc3R5bGVzLmluZm9EZXNjcmlwdGlvbl19PlxuICAgICAgICAgICN7cG9rZW1vbi5udW1iZXJ9XG4gICAgICAgIDwvVGV4dD5cbiAgICAgIDwvVmlldz5cbiAgICAgIDxWaWV3PlxuICAgICAgICA8VGV4dCBzdHlsZT17W3N0eWxlcy5pbmZvVGV4dCwgeyBjb2xvcjogY29sb3VyIH1dfT5cbiAgICAgICAgICBTcGVjaWVzXG4gICAgICAgIDwvVGV4dD5cbiAgICAgICAgPFRleHQgc3R5bGU9e1tzdHlsZXMuaW5mb0Rlc2NyaXB0aW9uXX0+XG4gICAgICAgICAge3Bva2Vtb24uc3BlY2llc31cbiAgICAgICAgPC9UZXh0PlxuICAgICAgPC9WaWV3PlxuICAgICAgPFZpZXc+XG4gICAgICAgIDxUZXh0IHN0eWxlPXtbc3R5bGVzLmluZm9UZXh0LCB7IGNvbG9yOiBjb2xvdXIgfV19PlxuICAgICAgICAgIEhlaWdodFxuICAgICAgICA8L1RleHQ+XG4gICAgICAgIDxUZXh0IHN0eWxlPXtbc3R5bGVzLmluZm9EZXNjcmlwdGlvbl19PlxuICAgICAgICAgIHtwb2tlbW9uLmhlaWdodH1cbiAgICAgICAgPC9UZXh0PlxuICAgICAgPC9WaWV3PlxuICAgICAgPFZpZXc+XG4gICAgICAgIDxUZXh0IHN0eWxlPXtbc3R5bGVzLmluZm9UZXh0LCB7IGNvbG9yOiBjb2xvdXIgfV19PlxuICAgICAgICAgIFdlaWdodFxuICAgICAgICA8L1RleHQ+XG4gICAgICAgIDxUZXh0IHN0eWxlPXtbc3R5bGVzLmluZm9EZXNjcmlwdGlvbl19PlxuICAgICAgICAgIHtwb2tlbW9uLndlaWdodH1cbiAgICAgICAgPC9UZXh0PlxuICAgICAgPC9WaWV3PlxuICAgICAgPFZpZXc+XG4gICAgICAgIDxUZXh0IHN0eWxlPXtbc3R5bGVzLmluZm9UZXh0LCB7IGNvbG9yOiBjb2xvdXIgfV19PlxuICAgICAgICAgIEdyb3d0aCBSYXRlXG4gICAgICAgIDwvVGV4dD5cbiAgICAgICAgPFRleHQgc3R5bGU9e1tzdHlsZXMuaW5mb0Rlc2NyaXB0aW9uXX0+XG4gICAgICAgICAge3Bva2Vtb24uZ3Jvd3RoUmF0ZX1cbiAgICAgICAgPC9UZXh0PlxuICAgICAgPC9WaWV3PlxuICAgICAgPFZpZXc+XG4gICAgICAgIDxUZXh0IHN0eWxlPXtbc3R5bGVzLmluZm9UZXh0LCB7IGNvbG9yOiBjb2xvdXIgfV19PlxuICAgICAgICAgIEVnZyBDeWNsZXNcbiAgICAgICAgPC9UZXh0PlxuICAgICAgICA8VGV4dCBzdHlsZT17W3N0eWxlcy5pbmZvRGVzY3JpcHRpb25dfT5cbiAgICAgICAgICB7cG9rZW1vbi5lZ2dDeWNsZXN9XG4gICAgICAgIDwvVGV4dD5cbiAgICAgIDwvVmlldz5cbiAgICAgIDxWaWV3PlxuICAgICAgICA8VGV4dCBzdHlsZT17W3N0eWxlcy5pbmZvVGV4dCwgeyBjb2xvcjogY29sb3VyIH1dfT5cbiAgICAgICAgICBFZ2cgR3JvdXBzXG4gICAgICAgIDwvVGV4dD5cbiAgICAgICAgPFRleHQgc3R5bGU9e1tzdHlsZXMuaW5mb0Rlc2NyaXB0aW9uXX0+XG4gICAgICAgICAge3Bva2Vtb24uZWdnR3JvdXBzLmpvaW4oJywgJyl9XG4gICAgICAgIDwvVGV4dD5cbiAgICAgIDwvVmlldz5cbiAgICA8L1ZpZXc+XG4gICk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclBva2VkZXhFbnRyaWVzIChwb2tlbW9uOiBQb2tlbW9uKSB7XG4gIGNvbnN0IGNvbG91ciA9IGdldFBva2Vtb25UeXBlQnlOYW1lKHBva2Vtb24udHlwZXNbMF0pLlBSSU1BUlk7XG4gIHJldHVybiAoXG4gICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5pbmZvQ29udGFpbmVyfT5cbiAgICAgIDxUZXh0IHN0eWxlPXtzdHlsZXMuaW5mb1RpdGxlfT4je3Bva2Vtb24ubG9jYWxOdW1iZXJ9PC9UZXh0PlxuICAgICAgPFZpZXc+XG4gICAgICAgIDxUZXh0IHN0eWxlPXtbc3R5bGVzLmluZm9UZXh0LCB7IGNvbG9yOiBjb2xvdXIgfV19PlxuICAgICAgICAgIFN3b3JkXG4gICAgICAgIDwvVGV4dD5cbiAgICAgICAgPFRleHQgc3R5bGU9e1tzdHlsZXMuaW5mb0Rlc2NyaXB0aW9uXX0+XG4gICAgICAgICAge3Bva2Vtb24ucG9rZWRleEVudHJpZXMuc3dvcmR9XG4gICAgICAgIDwvVGV4dD5cbiAgICAgIDwvVmlldz5cbiAgICAgIDxWaWV3PlxuICAgICAgICA8VGV4dCBzdHlsZT17W3N0eWxlcy5pbmZvVGV4dCwgeyBjb2xvcjogY29sb3VyIH1dfT5cbiAgICAgICAgICBTaGllbGRcbiAgICAgICAgPC9UZXh0PlxuICAgICAgICA8VGV4dCBzdHlsZT17W3N0eWxlcy5pbmZvRGVzY3JpcHRpb25dfT5cbiAgICAgICAgICB7cG9rZW1vbi5wb2tlZGV4RW50cmllcy5zaGllbGR9XG4gICAgICAgIDwvVGV4dD5cbiAgICAgIDwvVmlldz5cbiAgICA8L1ZpZXc+XG4gICk7XG59XG5cbmZ1bmN0aW9uIERldGFpbHNTY3JlZW4gKHByb3BzOiBQcm9wcykge1xuICBjb25zdCB7IHJvdXRlIH0gPSBwcm9wcztcbiAgY29uc3QgeyBwb2tlbW9uIH0gPSByb3V0ZS5wYXJhbXM7XG4gIGNvbnN0IHsgd2lkdGggfSA9IERpbWVuc2lvbnMuZ2V0KCd3aW5kb3cnKTtcbiAgY29uc3QgdXJpID0gcG9rZW1vbi5zcHJpdGVzLmFydHdvcms7XG5cbiAgcmV0dXJuIChcbiAgICA8U2Nyb2xsVmlld1xuICAgICAgdGVzdElEPXtgJHtwb2tlbW9uLm5hbWUudG9Mb3dlckNhc2UoKX0tZGV0YWlsc2B9XG4gICAgICBzdHlsZT17c3R5bGVzLmNvbnRhaW5lcn0+XG4gICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmltYWdlQ29udGFpbmVyfT5cbiAgICAgICAgPEltYWdlXG4gICAgICAgICAgcmVzaXplTWV0aG9kPSdzY2FsZSdcbiAgICAgICAgICByZXNpemVNb2RlPSdjb250YWluJ1xuICAgICAgICAgIHN0eWxlPXtbc3R5bGVzLm1haW5JbWFnZSwgeyB3aWR0aCwgaGVpZ2h0OiAyNTAgfV19XG4gICAgICAgICAgc291cmNlPXt7IHVyaSB9fVxuICAgICAgICAvPlxuICAgICAgPC9WaWV3PlxuICAgICAge3JlbmRlclR5cGVzKHBva2Vtb24pfVxuICAgICAge3JlbmRlclBva2VkZXhFbnRyaWVzKHBva2Vtb24pfVxuICAgICAge3JlbmRlclN0YXRzKHBva2Vtb24pfVxuICAgICAge3JlbmRlckFiaWxpdGllcyhwb2tlbW9uKX1cbiAgICAgIHtyZW5kZXJCYXNpY0luZm8ocG9rZW1vbil9XG4gICAgPC9TY3JvbGxWaWV3PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBEZXRhaWxzU2NyZWVuO1xuIl19